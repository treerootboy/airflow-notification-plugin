# Example Configuration for Airflow Notification Plugin

## Environment Variables

# Database Configuration
# By default, uses Airflow's database
# AIRFLOW_NOTIFICATION_DB_URL=postgresql://user:pass@localhost/airflow

# Retry Settings
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_DELAY=5

# Rate Limiting (prevent notification storms)
NOTIFICATION_RATE_LIMIT_ENABLED=true
NOTIFICATION_RATE_LIMIT_PER_MIN=60

# Logging
NOTIFICATION_LOG_LEVEL=INFO

# Feature Flags - Enable/disable specific channels
NOTIFICATION_ENABLE_SLACK=true
NOTIFICATION_ENABLE_SMS=true
NOTIFICATION_ENABLE_YOUDU=true
NOTIFICATION_ENABLE_FCM=true
NOTIFICATION_ENABLE_APNS=false

## Channel Configuration Examples

### Slack Webhook
# Add via UI: Notification Hub -> Notification Channels
# Name: production-alerts
# Type: slack
# Config:
{
  "webhook_url": "https://hooks.slack.com/services/YOUR/WEBHOOK/URL",
  "username": "Airflow Bot",
  "icon_emoji": ":airflow:"
}

### SMS API
# Name: sms-alerts
# Type: sms
# Config:
{
  "api_url": "https://api.sms-provider.com/send",
  "api_key": "YOUR_API_KEY"
}

### Youdu (有度)
# Name: youdu-alerts
# Type: youdu
# Config:
{
  "webhook_url": "https://youdu.company.com/webhook",
  "app_id": "YOUR_APP_ID"
}

### Firebase Cloud Messaging
# Name: mobile-push
# Type: fcm
# Config:
{
  "server_key": "YOUR_FCM_SERVER_KEY"
}

### Apple Push Notification Service
# Name: ios-push
# Type: apns
# Config: (To be implemented)
{
  "cert_path": "/path/to/cert.pem",
  "key_path": "/path/to/key.pem",
  "team_id": "YOUR_TEAM_ID",
  "bundle_id": "com.example.app"
}
